<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.example.demo.dao.CategoryDAO">

	<select id="selectCategory" resultType="string">
			SELECT place FROM category_text GROUP BY place 
	</select>
	
	<select id="selectCategoryDetail" parameterType="string" resultType="categoryVO">
			SELECT * FROM category_text WHERE (place= #{place} and user_no = #{user_no}) or (place = #{place} and user_no = 1) order by user_no
	</select>
	
		<select id="selectCategoryDetailAdmin" parameterType="string" resultType="categoryVO">
			SELECT * FROM category_text WHERE place= #{place} order by user_no
	</select>	
	
	<insert id="addUserText" parameterType="categoryVO">
		insert into category_text (place, place_text, user_no) 
		values(#{place},#{place_text},#{user_no})
	</insert>
	
	<delete id="deleteUserText" parameterType="categoryVO">
		delete from category_text where user_no = #{user_no} and place = #{place} and place_text = #{place_text}
	</delete>			
</mapper>
